"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[697],{1697:(s,t,e)=>{e.r(t),e.d(t,{default:()=>U,withRouter:()=>C});var a=e(5043);const r="ProfileInfo_descriptionBlock__ajEB9",o="ProfileInfo_userPhoto__vhCpy";var i=e(9599),u=e(579);const n=s=>{let[t,e]=(0,a.useState)(!1),[r,o]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{o(s.status)}),[s.status]);return(0,u.jsxs)("div",{children:[!t&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"-------"})}),t&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{value:r,onChange:s=>{o(s.target.value)},onBlur:()=>{e(!1),s.updateStatus(r)},autoFocus:!0})})]})};var p=e(7414);const d=s=>{let{profile:t,updateStatus:e,status:a}=s;return t?(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("img",{src:t.photos.large?t.photos.large:p,className:o,alt:""}),(0,u.jsx)(n,{updateStatus:e,status:a})]})}):(0,u.jsx)(i.A,{})};var l=e(5977);const c="MyPosts_postsBlock__7nXmk",h="MyPosts_posts__F3N8p",x="Post_item__yrfLt",m=s=>(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=f0632e75c5cfe7c215eac871fc886532_l-5216269-images-thumbs&n=13",alt:""}),s.message,(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Like"})," ",s.likes\u0421ount]})]});var f=e(5963),j=e(3842),g=e(6545),v=e(6292);const P=a.memo((s=>{let t=s.posts.map((s=>(0,u.jsx)(m,{message:s.message,"likes\u0421ount":s.likesCount})));return(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("h3",{children:"My posts"}),(0,u.jsx)(S,{onSubmit:t=>{s.addPost(t.newPostText)}}),(0,u.jsx)("div",{className:h,children:t})]})})),_=(0,g.d)(30);let S=s=>(0,u.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,u.jsx)("div",{children:(0,u.jsx)(f.A,{validate:[g.m,_],name:"newPostText",component:v.TM})}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"Add post"})})]});S=(0,j.A)({form:"ProfileAddNewPostForm"})(S);const k=P;var b=e(3003);const N=(0,b.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,l.oL)(t))}})))(k),A=s=>(0,u.jsxs)("div",{children:[(0,u.jsx)(d,{updateStatus:s.updateStatus,status:s.status,profile:s.profile}),(0,u.jsx)(N,{})]});var w=e(3216),y=e(3923);function C(s){return t=>{const e={params:(0,w.g)()};return(0,u.jsx)(s,{...t,match:e})}}class M extends a.Component{componentDidMount(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getUserStatus(s)}render(){return(0,u.jsx)(A,{updateStatus:this.props.updateStatus,...this.props,status:this.props.status,profile:this.props.profile})}}const U=(0,y.Zz)(C,(0,b.Ng)((s=>({isAuth:s.auth.isAuth}))),(0,b.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth})),{getUserProfile:l.VM,getUserStatus:l.CD,updateStatus:l.yB}))(M)},7414:(s,t,e)=>{s.exports=e.p+"static/media/i.706ed76ab0004f08b1c3.jpg"}}]);
//# sourceMappingURL=697.ba6d5b5d.chunk.js.map